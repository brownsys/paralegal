<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Assertion policy for UI tests"><title>assert_ui in cargo_test_support::compare - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="cargo_test_support" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (0aeaa5eb2 2024-12-14)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../cargo_test_support/index.html">cargo_<wbr>test_<wbr>support</a><span class="version">1.85.0-nightly</span></h2></div><div class="version">(0aeaa5eb2	2024-12-14)</div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">assert_<wbr>ui</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#snapshots" title="Snapshots">Snapshots</a></li><li><a href="#patterns" title="Patterns">Patterns</a></li><li><a href="#normalization" title="Normalization">Normalization</a></li><li><a href="#example" title="Example">Example</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In cargo_<wbr>test_<wbr>support::<wbr>compare</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">cargo_test_support</a>::<wbr><a href="index.html">compare</a></span><h1>Function <span class="fn">assert_ui</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/cargo_test_support/compare.rs.html#108-118">Source</a> </span></div><pre class="rust item-decl"><code>pub fn assert_ui() -&gt; Assert</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Assertion policy for UI tests</p>
<p>This emphasizes showing as much content as possible at the cost of more brittleness</p>
<h2 id="snapshots"><a class="doc-anchor" href="#snapshots">§</a>Snapshots</h2>
<p>Updating of snapshots is controlled with the <code>SNAPSHOTS</code> environment variable:</p>
<ul>
<li><code>skip</code>: do not run the tests</li>
<li><code>ignore</code>: run the tests but ignore their failure</li>
<li><code>verify</code>: run the tests</li>
<li><code>overwrite</code>: update the snapshots based on the output of the tests</li>
</ul>
<h2 id="patterns"><a class="doc-anchor" href="#patterns">§</a>Patterns</h2>
<ul>
<li><code>[..]</code> is a character wildcard, stopping at line breaks</li>
<li><code>\n...\n</code> is a multi-line wildcard</li>
<li><code>[EXE]</code> matches the exe suffix for the current platform</li>
<li><code>[ROOT]</code> matches <a href="../paths/fn.root.html" title="fn cargo_test_support::paths::root"><code>paths::root()</code></a></li>
<li><code>[ROOTURL]</code> matches <a href="../paths/fn.root.html" title="fn cargo_test_support::paths::root"><code>paths::root()</code></a> as a URL</li>
</ul>
<h2 id="normalization"><a class="doc-anchor" href="#normalization">§</a>Normalization</h2>
<p>In addition to the patterns described above, text is normalized
in such a way to avoid unwanted differences. The normalizations are:</p>
<ul>
<li>Backslashes are converted to forward slashes to deal with Windows paths.
This helps so that all tests can be written assuming forward slashes.
Other heuristics are applied to try to ensure Windows-style paths aren’t
a problem.</li>
<li>Carriage returns are removed, which can help when running on Windows.</li>
</ul>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>assert_e2e().eq(stdout, <span class="macro">file!</span>[<span class="string">"stderr.term.svg"</span>]);</code></pre></div>
<div class="example-wrap"><pre class="language-console"><code>$ SNAPSHOTS=overwrite cargo test</code></pre></div></div></details></section></div></main></body></html>