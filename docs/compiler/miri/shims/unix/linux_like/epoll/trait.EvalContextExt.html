<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `EvalContextExt` trait in crate `miri`."><title>EvalContextExt in miri::shims::unix::linux_like::epoll - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../../../" data-static-root-path="../../../../../static.files/" data-current-crate="miri" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (0aeaa5eb2 2024-12-14)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../miri/index.html">miri</a><span class="version">1.85.0-nightly</span></h2></div><div class="version">(0aeaa5eb2	2024-12-14)</div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Eval<wbr>Context<wbr>Ext</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.check_and_update_readiness" title="check_and_update_readiness">check_and_update_readiness</a></li><li><a href="#method.epoll_create1" title="epoll_create1">epoll_create1</a></li><li><a href="#method.epoll_ctl" title="epoll_ctl">epoll_ctl</a></li><li><a href="#method.epoll_wait" title="epoll_wait">epoll_wait</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In miri::<wbr>shims::<wbr>unix::<wbr>linux_<wbr>like::<wbr>epoll</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../../../index.html">miri</a>::<wbr><a href="../../../index.html">shims</a>::<wbr><a href="../../index.html">unix</a>::<wbr><a href="../index.html">linux_like</a>::<wbr><a href="index.html">epoll</a></span><h1>Trait <span class="trait">EvalContextExt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#203-573">Source</a> </span></div><pre class="rust item-decl"><code>pub trait EvalContextExt&lt;'tcx&gt;: <a class="trait" href="../../../../machine/trait.MiriInterpCxExt.html" title="trait miri::machine::MiriInterpCxExt">MiriInterpCxExt</a>&lt;'tcx&gt; {
    // Provided methods
    fn <a href="#method.epoll_create1" class="fn">epoll_create1</a>(
        &amp;mut self,
        flags: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    ) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="type" href="../../../../type.Scalar.html" title="type miri::Scalar">Scalar</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.epoll_ctl" class="fn">epoll_ctl</a>(
        &amp;mut self,
        epfd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        op: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        fd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        event: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    ) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="type" href="../../../../type.Scalar.html" title="type miri::Scalar">Scalar</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.epoll_wait" class="fn">epoll_wait</a>(
        &amp;mut self,
        epfd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        events_op: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        maxevents: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        timeout: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
        dest: &amp;<a class="type" href="../../../../type.MPlaceTy.html" title="type miri::MPlaceTy">MPlaceTy</a>&lt;'tcx&gt;,
    ) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.check_and_update_readiness" class="fn">check_and_update_readiness</a>(
        &amp;mut self,
        fd_ref: &amp;<a class="struct" href="../../../files/struct.FileDescriptionRef.html" title="struct miri::shims::files::FileDescriptionRef">FileDescriptionRef</a>,
    ) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.epoll_create1" class="method"><a class="src rightside" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#209-226">Source</a><h4 class="code-header">fn <a href="#method.epoll_create1" class="fn">epoll_create1</a>(&amp;mut self, flags: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="type" href="../../../../type.Scalar.html" title="type miri::Scalar">Scalar</a>&gt;</h4></section></summary><div class="docblock"><p>This function returns a file descriptor referring to the new <code>Epoll</code> instance. This file
descriptor is used for all subsequent calls to the epoll interface. If the <code>flags</code> argument
is 0, then this function is the same as <code>epoll_create()</code>.</p>
<p><a href="https://linux.die.net/man/2/epoll_create1">https://linux.die.net/man/2/epoll_create1</a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.epoll_ctl" class="method"><a class="src rightside" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#241-392">Source</a><h4 class="code-header">fn <a href="#method.epoll_ctl" class="fn">epoll_ctl</a>(
    &amp;mut self,
    epfd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    op: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    fd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    event: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="type" href="../../../../type.Scalar.html" title="type miri::Scalar">Scalar</a>&gt;</h4></section></summary><div class="docblock"><p>This function performs control operations on the <code>Epoll</code> instance referred to by the file
descriptor <code>epfd</code>. It requests that the operation <code>op</code> be performed for the target file
descriptor, <code>fd</code>.</p>
<p>Valid values for the op argument are:
<code>EPOLL_CTL_ADD</code> - Register the target file descriptor <code>fd</code> on the <code>Epoll</code> instance referred
to by the file descriptor <code>epfd</code> and associate the event <code>event</code> with the internal file
linked to <code>fd</code>.
<code>EPOLL_CTL_MOD</code> - Change the event <code>event</code> associated with the target file descriptor <code>fd</code>.
<code>EPOLL_CTL_DEL</code> - Deregister the target file descriptor <code>fd</code> from the <code>Epoll</code> instance
referred to by <code>epfd</code>. The <code>event</code> is ignored and can be null.</p>
<p><a href="https://linux.die.net/man/2/epoll_ctl">https://linux.die.net/man/2/epoll_ctl</a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.epoll_wait" class="method"><a class="src rightside" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#426-520">Source</a><h4 class="code-header">fn <a href="#method.epoll_wait" class="fn">epoll_wait</a>(
    &amp;mut self,
    epfd: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    events_op: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    maxevents: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    timeout: &amp;<a class="type" href="../../../../type.OpTy.html" title="type miri::OpTy">OpTy</a>&lt;'tcx&gt;,
    dest: &amp;<a class="type" href="../../../../type.MPlaceTy.html" title="type miri::MPlaceTy">MPlaceTy</a>&lt;'tcx&gt;,
) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx&gt;</h4></section></summary><div class="docblock"><p>The <code>epoll_wait()</code> system call waits for events on the <code>Epoll</code>
instance referred to by the file descriptor <code>epfd</code>. The buffer
pointed to by <code>events</code> is used to return information from the ready
list about file descriptors in the interest list that have some
events available. Up to <code>maxevents</code> are returned by <code>epoll_wait()</code>.
The <code>maxevents</code> argument must be greater than zero.</p>
<p>The <code>timeout</code> argument specifies the number of milliseconds that
<code>epoll_wait()</code> will block. Time is measured against the
CLOCK_MONOTONIC clock. If the timeout is zero, the function will not block,
while if the timeout is -1, the function will block
until at least one event has been retrieved (or an error
occurred).</p>
<p>A call to <code>epoll_wait()</code> will block until either:
• a file descriptor delivers an event;
• the call is interrupted by a signal handler; or
• the timeout expires.</p>
<p>Note that the timeout interval will be rounded up to the system
clock granularity, and kernel scheduling delays mean that the
blocking interval may overrun by a small amount. Specifying a
timeout of -1 causes <code>epoll_wait()</code> to block indefinitely, while
specifying a timeout equal to zero cause <code>epoll_wait()</code> to return
immediately, even if no events are available.</p>
<p>On success, <code>epoll_wait()</code> returns the number of file descriptors
ready for the requested I/O, or zero if no file descriptor became
ready during the requested timeout milliseconds. On failure,
<code>epoll_wait()</code> returns -1 and errno is set to indicate the error.</p>
<p><a href="https://man7.org/linux/man-pages/man2/epoll_wait.2.html">https://man7.org/linux/man-pages/man2/epoll_wait.2.html</a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.check_and_update_readiness" class="method"><a class="src rightside" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#529-572">Source</a><h4 class="code-header">fn <a href="#method.check_and_update_readiness" class="fn">check_and_update_readiness</a>(
    &amp;mut self,
    fd_ref: &amp;<a class="struct" href="../../../files/struct.FileDescriptionRef.html" title="struct miri::shims::files::FileDescriptionRef">FileDescriptionRef</a>,
) -&gt; <a class="type" href="../../../../../rustc_middle/mir/interpret/error/type.InterpResult.html" title="type rustc_middle::mir::interpret::error::InterpResult">InterpResult</a>&lt;'tcx, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>For a specific file description, get its ready events and update the corresponding ready
list. This function should be called whenever an event causes more bytes or an EOF to become
newly readable from an FD, and whenever more bytes can be written to an FD or no more future
writes are possible.</p>
<p>This <em>will</em> report an event if anyone is subscribed to it, without any further filtering, so
do not call this function when an FD didn’t have anything happen to it!</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-EvalContextExt%3C'tcx%3E-for-InterpCx%3C'tcx,+MiriMachine%3C'tcx%3E%3E" class="impl"><a class="src rightside" href="../../../../../src/miri/shims/unix/linux_like/epoll.rs.html#202">Source</a><a href="#impl-EvalContextExt%3C'tcx%3E-for-InterpCx%3C'tcx,+MiriMachine%3C'tcx%3E%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'tcx&gt; <a class="trait" href="trait.EvalContextExt.html" title="trait miri::shims::unix::linux_like::epoll::EvalContextExt">EvalContextExt</a>&lt;'tcx&gt; for <a class="type" href="../../../../machine/type.MiriInterpCx.html" title="type miri::machine::MiriInterpCx">MiriInterpCx</a>&lt;'tcx&gt;</h3></section></div><script src="../../../../../trait.impl/miri/shims/unix/linux_like/epoll/trait.EvalContextExt.js" async></script></section></div></main></body></html>