<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Various utility functions used throughout bootstrap."><title>bootstrap::utils::helpers - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="bootstrap" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (0aeaa5eb2 2024-12-14)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../bootstrap/index.html">bootstrap</a><span class="version">1.85.0-nightly</span></h2></div><div class="version">(0aeaa5eb2	2024-12-14)</div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module helpers</a></h2><h3><a href="#reexports">Module Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In bootstrap::<wbr>utils</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">bootstrap</a>::<wbr><a href="../index.html">utils</a></span><h1>Module <span>helpers</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/bootstrap/utils/helpers.rs.html#1-620">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Various utility functions used throughout bootstrap.</p>
<p>Simple things like testing the various filesystem operations here and there,
not a lot of interesting happenings here unfortunately.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.dylib_path"><code>pub use crate::utils::shared_helpers::<a class="fn" href="../shared_helpers/fn.dylib_path.html" title="fn bootstrap::utils::shared_helpers::dylib_path">dylib_path</a>;</code></div></li><li><div class="item-name" id="reexport.dylib_path_var"><code>pub use crate::utils::shared_helpers::<a class="fn" href="../shared_helpers/fn.dylib_path_var.html" title="fn bootstrap::utils::shared_helpers::dylib_path_var">dylib_path_var</a>;</code></div></li><li><div class="item-name" id="reexport.t"><code>pub use <a class="macro" href="../../macro.t.html" title="macro bootstrap::t">t</a>;</code></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.HashStamp.html" title="struct bootstrap::utils::helpers::HashStamp">Hash<wbr>Stamp</a></div></li><li><div class="item-name"><a class="struct" href="struct.TimeIt.html" title="struct bootstrap::utils::helpers::TimeIt">TimeIt</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.LldThreads.html" title="enum bootstrap::utils::helpers::LldThreads">LldThreads</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.add_dylib_path.html" title="fn bootstrap::utils::helpers::add_dylib_path">add_<wbr>dylib_<wbr>path</a></div><div class="desc docblock-short">Adds a list of lookup paths to <code>cmd</code>â€™s dynamic library lookup path.
If the dylib_path_var is already set for this cmd, the old value will be overwritten!</div></li><li><div class="item-name"><a class="fn" href="fn.add_link_lib_path.html" title="fn bootstrap::utils::helpers::add_link_lib_path">add_<wbr>link_<wbr>lib_<wbr>path</a></div><div class="desc docblock-short">Adds a list of lookup paths to <code>cmd</code>â€™s link library lookup path.</div></li><li><div class="item-name"><a class="fn" href="fn.add_rustdoc_cargo_linker_args.html" title="fn bootstrap::utils::helpers::add_rustdoc_cargo_linker_args">add_<wbr>rustdoc_<wbr>cargo_<wbr>linker_<wbr>args</a></div></li><li><div class="item-name"><a class="fn" href="fn.check_cfg_arg.html" title="fn bootstrap::utils::helpers::check_cfg_arg">check_<wbr>cfg_<wbr>arg</a></div><div class="desc docblock-short">Create a <code>--check-cfg</code> argument invocation for a given name
and itâ€™s values.</div></li><li><div class="item-name"><a class="fn" href="fn.check_run.html" title="fn bootstrap::utils::helpers::check_run">check_<wbr>run</a></div></li><li><div class="item-name"><a class="fn" href="fn.dir_is_empty.html" title="fn bootstrap::utils::helpers::dir_is_empty">dir_<wbr>is_<wbr>empty</a></div></li><li><div class="item-name"><a class="fn" href="fn.dir_up_to_date.html" title="fn bootstrap::utils::helpers::dir_up_to_date">dir_<wbr>up_<wbr>to_<wbr>date</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.exe.html" title="fn bootstrap::utils::helpers::exe">exe</a></div></li><li><div class="item-name"><a class="fn" href="fn.extract_beta_rev.html" title="fn bootstrap::utils::helpers::extract_beta_rev">extract_<wbr>beta_<wbr>rev</a></div><div class="desc docblock-short">Extract the beta revision from the full version string.</div></li><li><div class="item-name"><a class="fn" href="fn.forcing_clang_based_tests.html" title="fn bootstrap::utils::helpers::forcing_clang_based_tests">forcing_<wbr>clang_<wbr>based_<wbr>tests</a></div></li><li><div class="item-name"><a class="fn" href="fn.get_clang_cl_resource_dir.html" title="fn bootstrap::utils::helpers::get_clang_cl_resource_dir">get_<wbr>clang_<wbr>cl_<wbr>resource_<wbr>dir</a></div><div class="desc docblock-short">Adapted from <a href="https://github.com/llvm/llvm-project/blob/782e91224601e461c019e0a4573bbccc6094fbcd/llvm/cmake/modules/HandleLLVMOptions.cmake#L1058-L1079">https://github.com/llvm/llvm-project/blob/782e91224601e461c019e0a4573bbccc6094fbcd/llvm/cmake/modules/HandleLLVMOptions.cmake#L1058-L1079</a></div></li><li><div class="item-name"><a class="fn" href="fn.git.html" title="fn bootstrap::utils::helpers::git">git</a></div><div class="desc docblock-short">Prepares <code>BootstrapCommand</code> that runs git inside the source directory if given.</div></li><li><div class="item-name"><a class="fn" href="fn.hex_encode.html" title="fn bootstrap::utils::helpers::hex_encode">hex_<wbr>encode</a></div><div class="desc docblock-short">Converts <code>T</code> into a hexadecimal <code>String</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.is_aix_shared_archive.html" title="fn bootstrap::utils::helpers::is_aix_shared_archive">is_<wbr>aix_<wbr>shared_<wbr>archive</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.is_debug_info.html" title="fn bootstrap::utils::helpers::is_debug_info">is_<wbr>debug_<wbr>info</a></div><div class="desc docblock-short">Returns <code>true</code> if the file name given looks like a debug info file</div></li><li><div class="item-name"><a class="fn" href="fn.is_dylib.html" title="fn bootstrap::utils::helpers::is_dylib">is_<wbr>dylib</a></div><div class="desc docblock-short">Returns <code>true</code> if the file name given looks like a dynamic library.</div></li><li><div class="item-name"><a class="fn" href="fn.is_valid_test_suite_arg.html" title="fn bootstrap::utils::helpers::is_valid_test_suite_arg">is_<wbr>valid_<wbr>test_<wbr>suite_<wbr>arg</a></div></li><li><div class="item-name"><a class="fn" href="fn.libdir.html" title="fn bootstrap::utils::helpers::libdir">libdir</a></div><div class="desc docblock-short">Returns the corresponding relative library directory that the compilerâ€™s
dylibs will be found in.</div></li><li><div class="item-name"><a class="fn" href="fn.link_lib_path.html" title="fn bootstrap::utils::helpers::link_lib_path">link_<wbr>lib_<wbr>path</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Parses the <code>link_lib_path_var()</code> environment variable, returning a list of
paths that are members of this lookup path.</div></li><li><div class="item-name"><a class="fn" href="fn.link_lib_path_var.html" title="fn bootstrap::utils::helpers::link_lib_path_var">link_<wbr>lib_<wbr>path_<wbr>var</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Returns the environment variable which the link library lookup path
resides in for this platform.</div></li><li><div class="item-name"><a class="fn" href="fn.linker_args.html" title="fn bootstrap::utils::helpers::linker_args">linker_<wbr>args</a></div><div class="desc docblock-short">Returns the linker arguments for rustc/rustdoc for the given builder and target.</div></li><li><div class="item-name"><a class="fn" href="fn.linker_flags.html" title="fn bootstrap::utils::helpers::linker_flags">linker_<wbr>flags</a></div><div class="desc docblock-short">Returns the linker arguments for rustc/rustdoc for the given builder and target, without the
-Clinker flag.</div></li><li><div class="item-name"><a class="fn" href="fn.lld_flag_no_threads.html" title="fn bootstrap::utils::helpers::lld_flag_no_threads">lld_<wbr>flag_<wbr>no_<wbr>threads</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Returns a flag that configures LLD to use only a single thread.
If we use an external LLD, we need to find out which version is it to know which flag should we
pass to it (LLD older than version 10 had a different flag).</div></li><li><div class="item-name"><a class="fn" href="fn.make.html" title="fn bootstrap::utils::helpers::make">make</a></div></li><li><div class="item-name"><a class="fn" href="fn.move_file.html" title="fn bootstrap::utils::helpers::move_file">move_<wbr>file</a></div><div class="desc docblock-short">Rename a file if from and to are in the same filesystem or
copy and remove the file otherwise</div></li><li><div class="item-name"><a class="fn" href="fn.mtime.html" title="fn bootstrap::utils::helpers::mtime">mtime</a></div><div class="desc docblock-short">Returns the last-modified time for <code>path</code>, or zero if it doesnâ€™t exist.</div></li><li><div class="item-name"><a class="fn" href="fn.output.html" title="fn bootstrap::utils::helpers::output">output</a></div></li><li><div class="item-name"><a class="fn" href="fn.program_out_of_date.html" title="fn bootstrap::utils::helpers::program_out_of_date">program_<wbr>out_<wbr>of_<wbr>date</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Used for download caching</div></li><li><div class="item-name"><a class="fn" href="fn.set_file_times.html" title="fn bootstrap::utils::helpers::set_file_times">set_<wbr>file_<wbr>times</a></div><div class="desc docblock-short">Sets the file times for a given file at <code>path</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.start_process.html" title="fn bootstrap::utils::helpers::start_process">start_<wbr>process</a></div><div class="desc docblock-short">Spawn a process and return a closure that will wait for the process
to finish and then return its output. This allows the spawned process
to do work without immediately blocking bootstrap.</div></li><li><div class="item-name"><a class="fn" href="fn.symlink_dir.html" title="fn bootstrap::utils::helpers::symlink_dir">symlink_<wbr>dir</a></div><div class="desc docblock-short">Symlinks two directories, using junctions on Windows and normal symlinks on
Unix.</div></li><li><div class="item-name"><a class="fn" href="fn.target_supports_cranelift_backend.html" title="fn bootstrap::utils::helpers::target_supports_cranelift_backend">target_<wbr>supports_<wbr>cranelift_<wbr>backend</a></div></li><li><div class="item-name"><a class="fn" href="fn.timeit.html" title="fn bootstrap::utils::helpers::timeit">timeit</a></div><div class="desc docblock-short">Returns an RAII structure that prints out how long it took to drop.</div></li><li><div class="item-name"><a class="fn" href="fn.unhashed_basename.html" title="fn bootstrap::utils::helpers::unhashed_basename">unhashed_<wbr>basename</a></div><div class="desc docblock-short">Returns the filename without the hash prefix added by the cc crate.</div></li><li><div class="item-name"><a class="fn" href="fn.up_to_date.html" title="fn bootstrap::utils::helpers::up_to_date">up_<wbr>to_<wbr>date</a></div><div class="desc docblock-short">Returns <code>true</code> if <code>dst</code> is up to date given that the file or files in <code>src</code>
are used to generate it.</div></li><li><div class="item-name"><a class="fn" href="fn.use_host_linker.html" title="fn bootstrap::utils::helpers::use_host_linker">use_<wbr>host_<wbr>linker</a></div></li></ul></section></div></main></body></html>