<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of bootstrap, the Rust build system."><title>bootstrap - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bootstrap" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (0aeaa5eb2 2024-12-14)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../bootstrap/index.html">bootstrap</a><span class="version">1.85.0-nightly</span></h2></div><div class="version">(0aeaa5eb2	2024-12-14)</div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#further-information" title="Further information">Further information</a></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>bootstrap</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/bootstrap/lib.rs.html#1-1987">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implementation of bootstrap, the Rust build system.</p>
<p>This module, and its descendants, are the implementation of the Rust build
system. Most of this build system is backed by Cargo but the outer layer
here serves as the ability to orchestrate calling Cargo, sequencing Cargo
builds, building artifacts like LLVM, etc. The goals of bootstrap are:</p>
<ul>
<li>To be an easily understandable, easily extensible, and maintainable build
system.</li>
<li>Leverage standard tools in the Rust ecosystem to build the compiler, aka
crates.io and Cargo.</li>
<li>A standard interface to build across all platforms, including MSVC</li>
</ul>
<h3 id="further-information"><a class="doc-anchor" href="#further-information">§</a>Further information</h3>
<p>More documentation can be found in each respective module below, and you can
also check out the <code>src/bootstrap/README.md</code> file for more information.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="core/index.html" title="mod bootstrap::core">core</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="utils/index.html" title="mod bootstrap::utils">utils</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This module contains integral components of the build and configuration process, providing
support for a wide range of tasks and operations such as caching, tarballs, release
channels, job management, etc.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.forward.html" title="macro bootstrap::forward">forward</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="macro" href="macro.t.html" title="macro bootstrap::t">t</a></div><div class="desc docblock-short">A helper macro to <code>unwrap</code> a result except also print out details like:</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Build.html" title="struct bootstrap::Build">Build</a></div><div class="desc docblock-short">Global configuration for the build system.</div></li><li><div class="item-name"><a class="struct" href="struct.Compiler.html" title="struct bootstrap::Compiler">Compiler</a></div><div class="desc docblock-short">A structure representing a Rust compiler.</div></li><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct bootstrap::Config">Config</a></div><div class="desc docblock-short">Global configuration for the entire build and/or bootstrap.</div></li><li><div class="item-name"><a class="struct" href="struct.Crate.html" title="struct bootstrap::Crate">Crate</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="struct" href="struct.Flags.html" title="struct bootstrap::Flags">Flags</a></div><div class="desc docblock-short">Deserialized version of all flags for this compile.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.CLang.html" title="enum bootstrap::CLang">CLang</a></div></li><li><div class="item-name"><a class="enum" href="enum.DependencyType.html" title="enum bootstrap::DependencyType">Dependency<wbr>Type</a></div><div class="desc docblock-short">When building Rust various objects are handled differently.</div></li><li><div class="item-name"><a class="enum" href="enum.DocTests.html" title="enum bootstrap::DocTests">DocTests</a></div></li><li><div class="item-name"><a class="enum" href="enum.GitRepo.html" title="enum bootstrap::GitRepo">GitRepo</a></div></li><li><div class="item-name"><a class="enum" href="enum.Mode.html" title="enum bootstrap::Mode">Mode</a></div><div class="desc docblock-short">The various “modes” of invoking Cargo.</div></li><li><div class="item-name"><a class="enum" href="enum.PathSet.html" title="enum bootstrap::PathSet">PathSet</a></div><div class="desc docblock-short">Collection of paths used to match a task rule.</div></li><li><div class="item-name"><a class="enum" href="enum.Subcommand.html" title="enum bootstrap::Subcommand">Subcommand</a></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.CONFIG_CHANGE_HISTORY.html" title="constant bootstrap::CONFIG_CHANGE_HISTORY">CONFIG_<wbr>CHANGE_<wbr>HISTORY</a></div><div class="desc docblock-short">Keeps track of major changes made to the bootstrap configuration.</div></li><li><div class="item-name"><a class="constant" href="constant.EXTRA_CHECK_CFGS.html" title="constant bootstrap::EXTRA_CHECK_CFGS">EXTRA_<wbr>CHECK_<wbr>CFGS</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Extra <code>--check-cfg</code> to add when building the compiler or tools
(Mode restriction, config name, config values (if any))</div></li><li><div class="item-name"><a class="constant" href="constant.LLD_FILE_NAMES.html" title="constant bootstrap::LLD_FILE_NAMES">LLD_<wbr>FILE_<wbr>NAMES</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">LLD file names for all flavors.</div></li><li><div class="item-name"><a class="constant" href="constant.LLVM_TOOLS.html" title="constant bootstrap::LLVM_TOOLS">LLVM_<wbr>TOOLS</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.chmod.html" title="fn bootstrap::chmod">chmod</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.envify.html" title="fn bootstrap::envify">envify</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.find_recent_config_change_ids.html" title="fn bootstrap::find_recent_config_change_ids">find_<wbr>recent_<wbr>config_<wbr>change_<wbr>ids</a></div></li><li><div class="item-name"><a class="fn" href="fn.generate_smart_stamp_hash.html" title="fn bootstrap::generate_smart_stamp_hash">generate_<wbr>smart_<wbr>stamp_<wbr>hash</a></div><div class="desc docblock-short">Computes a hash representing the state of a repository/submodule and additional input.</div></li><li><div class="item-name"><a class="fn" href="fn.human_readable_changes.html" title="fn bootstrap::human_readable_changes">human_<wbr>readable_<wbr>changes</a></div></li><li><div class="item-name"><a class="fn" href="fn.prepare_behaviour_dump_dir.html" title="fn bootstrap::prepare_behaviour_dump_dir">prepare_<wbr>behaviour_<wbr>dump_<wbr>dir</a></div><div class="desc docblock-short">Ensures that the behavior dump directory is properly initialized.</div></li></ul></section></div></main></body></html>